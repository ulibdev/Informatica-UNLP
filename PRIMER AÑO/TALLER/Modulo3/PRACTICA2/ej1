programa ej1p2
procesos
  proceso juntarFlores(ES flores:numero)
  comenzar
    mientras(HayFlorEnLaEsquina)
      tomarFlor
      flores:= flores+1
  fin
  proceso recorrerAvenidas(ES flores:numero)
  comenzar
    repetir 9
      juntarFlores(flores)
      mover
    juntarFlores(flores)
  fin
areas
  area1:AreaP(1,1,1,10)
  area2:AreaP(2,11,2,20)
robots
  robot juntador1
  variables
    flor:numero
    cantFlores:numero
  comenzar
    flor:=0
    recorrerAvenidas(flor)
    RecibirMensaje(cantFlores,bot2)
    si(cantFlores < flor)
      Informar('la diferencia de flores es ',(flor-cantFlores))
    sino
      EnviarMensaje(V,bot2)
      EnviarMensaje(flor,bot2)
  fin
  robot juntador2
  variables
    flor:numero
    cantFlores:numero
    mayor:boolean
  comenzar
    flor:=0
    recorrerAvenidas(flor)
    EnviarMensaje(flor,bot1)
    RecibirMensaje(mayor,bot1)
    si(mayor)
      RecibirMensaje(cantFlores,bot1)
      Informar('la diferencia de flores es ',(flor-cantFlores))
  fin
variables
  bot1:juntador1
  bot2:juntador2
comenzar
  AsignarArea(bot1,area1)
  AsignarArea(bot2,area2)
  Iniciar(bot1,1,1)
  Iniciar(bot2,2,11)
fin