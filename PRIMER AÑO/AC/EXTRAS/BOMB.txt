PA EQU 30h
CA EQU 32H
PB EQU 31h
CB EQU 33H

org 1000h
msj1 db "KBOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOM"
fin1 db ?

org 3000h
  Verificar: mov al, 0FFH
            out CA,al
            loopLlave:in al,PA
            cmp al,0FFH
            jnz loopLlave
  ret
  Luces: mov al, 0h
         out CB,al
         out PB,al
         mov al,1
         loopLuz: out PB,al
                  add al, al
                  cmp al,0
                  jnz loopLuz
        mov ah,5
        bipbop:mov al,0
              out PB,al
              mov al,0FFh
              out PB,al
              dec ah
              cmp ah,0
              jnz bipbop
  ret
  Imprimir: mov al, offset fin1 - offset msj1
            mov bx, offset msj1
            int 7
            ret
ORG 2000h

call Verificar
call Luces
call Imprimir
int 0
end